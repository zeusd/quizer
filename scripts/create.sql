CREATE DATABASE quizer;

CREATE TABLE `quizer`.`quizzes` (
    `NAME` VARCHAR(100) NOT NULL,
    `QUESTIONS` JSON NOT NULL,
    `ANSWERS` JSON NOT NULL,
    `MAX_SCORE` INT NOT NULL,
    UNIQUE (NAME),
    PRIMARY KEY (NAME)
);

CREATE TABLE `quizer`.`results` (
    `ID` INT NOT NULL AUTO_INCREMENT,
    `UID` INT NOT NULL,
    `QUIZ` VARCHAR(100) NOT NULL,
    `ANSWERS` JSON NOT NULL,
    `SCORE` INT NOT NULL,
    UNIQUE (ID),
    UNIQUE (UID),
    UNIQUE (QUIZ),
    PRIMARY KEY (UID),
    FOREIGN KEY (QUIZ) REFERENCES `quizzes`(NAME)
);

